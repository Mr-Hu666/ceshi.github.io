(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["setContract"],{"02f4":function(t,e,n){var a=n("4588"),o=n("be13");t.exports=function(t){return function(e,n){var i,s,r=String(o(e)),c=a(n),u=r.length;return c<0||c>=u?t?"":void 0:(i=r.charCodeAt(c),i<55296||i>56319||c+1===u||(s=r.charCodeAt(c+1))<56320||s>57343?t?r.charAt(c):i:t?r.slice(c,c+2):s-56320+(i-55296<<10)+65536)}}},"0390":function(t,e,n){"use strict";var a=n("02f4")(!0);t.exports=function(t,e,n){return e+(n?a(t,e).length:1)}},"214f":function(t,e,n){"use strict";n("b0c5");var a=n("2aba"),o=n("32e9"),i=n("79e5"),s=n("be13"),r=n("2b4c"),c=n("520a"),u=r("species"),l=!i(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),p=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(t,e,n){var d=r(t),f=!i(function(){var e={};return e[d]=function(){return 7},7!=""[t](e)}),y=f?!i(function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[u]=function(){return n}),n[d](""),!e}):void 0;if(!f||!y||"replace"===t&&!l||"split"===t&&!p){var m=/./[d],b=n(s,d,""[t],function(t,e,n,a,o){return e.exec===c?f&&!o?{done:!0,value:m.call(e,n,a)}:{done:!0,value:t.call(n,e,a)}:{done:!1}}),h=b[0],v=b[1];a(String.prototype,t,h),o(RegExp.prototype,d,2==e?function(t,e){return v.call(t,this,e)}:function(t){return v.call(t,this)})}}},"2f15":function(t,e,n){},4917:function(t,e,n){"use strict";var a=n("cb7c"),o=n("9def"),i=n("0390"),s=n("5f1b");n("214f")("match",1,function(t,e,n,r){return[function(n){var a=t(this),o=void 0==n?void 0:n[e];return void 0!==o?o.call(n,a):new RegExp(n)[e](String(a))},function(t){var e=r(n,t,this);if(e.done)return e.value;var c=a(t),u=String(this);if(!c.global)return s(c,u);var l=c.unicode;c.lastIndex=0;var p,d=[],f=0;while(null!==(p=s(c,u))){var y=String(p[0]);d[f]=y,""===y&&(c.lastIndex=i(u,o(c.lastIndex),l)),f++}return 0===f?null:d}]})},"520a":function(t,e,n){"use strict";var a=n("0bfb"),o=RegExp.prototype.exec,i=String.prototype.replace,s=o,r="lastIndex",c=function(){var t=/a/,e=/b*/g;return o.call(t,"a"),o.call(e,"a"),0!==t[r]||0!==e[r]}(),u=void 0!==/()??/.exec("")[1],l=c||u;l&&(s=function(t){var e,n,s,l,p=this;return u&&(n=new RegExp("^"+p.source+"$(?!\\s)",a.call(p))),c&&(e=p[r]),s=o.call(p,t),c&&s&&(p[r]=p.global?s.index+s[0].length:e),u&&s&&s.length>1&&i.call(s[0],n,function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(s[l]=void 0)}),s}),t.exports=s},"5f1b":function(t,e,n){"use strict";var a=n("23c6"),o=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"===typeof n){var i=n.call(t,e);if("object"!==typeof i)throw new TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==a(t))throw new TypeError("RegExp#exec called on incompatible receiver");return o.call(t,e)}},"61a4":function(t,e,n){"use strict";var a=n("2f15"),o=n.n(a);o.a},"68e4":function(t,e,n){"use strict";n.r(e);var a,o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"demo"},[n("h2",[t._v("Set Contract")]),n("div",[t._v("地址："),n("Input",{staticStyle:{width:"320px"},attrs:{value:""},model:{value:t.setAddress,callback:function(e){t.setAddress=e},expression:"setAddress"}})],1),n("div",[t._v("最大收益(ETH)："),n("Input",{staticStyle:{width:"200px"},attrs:{value:""},model:{value:t.eth,callback:function(e){t.eth=e},expression:"eth"}})],1),n("div",[t._v("手续费率："),n("Input",{staticStyle:{width:"160px"},attrs:{value:""},model:{value:t.fees,callback:function(e){t.fees=e},expression:"fees"}})],1),n("div",[n("Button",{on:{click:function(e){return t.isMainnet()}}},[t._v("查询是否主网络")])],1),n("div",[n("Button",{on:{click:function(e){return t.getAddress()}}},[t._v("查询ETH地址")])],1),n("div",[n("Button",{on:{click:function(e){return t.getBalance()}}},[t._v("查询ETH余额")])],1),n("div",[n("Button",{on:{click:function(e){return t.getBlockNumber()}}},[t._v("查询当前块高度")])],1),n("div",[n("Button",{on:{click:function(e){return t.secretSigner()}}},[t._v("设置secretSigner(签名地址)")])],1),n("div",[n("Button",{on:{click:function(e){return t.setCroupier()}}},[t._v("设置setCroupier(庄家)")])],1),n("div",[n("Button",{on:{click:function(e){return t.setMaxProfit()}}},[t._v("设置setMaxProfit(最大收益)")])],1),n("div",[n("Button",{on:{click:function(e){return t.getContractInfo()}}},[t._v("获取合约信息")])],1),n("div",[n("Button",{on:{click:function(e){return t.setFeeProfit()}}},[t._v("设置手续费率")])],1)])},i=[],s=(n("4917"),n("c5f6"),n("6b54"),n("96cf"),n("3b8d")),r=n("6314"),c=n.n(r),u=(n("81ad"),{data:function(){return{contractAddress:"0xa29d86c94d8a2025349a7ee2fc23eccd11b005b2",contractAbi:[{constant:!1,inputs:[{name:"betMask",type:"uint256"},{name:"modulo",type:"uint256"},{name:"commitLastBlock",type:"uint256"},{name:"commit",type:"uint256"},{name:"r",type:"bytes32"},{name:"s",type:"bytes32"},{name:"v",type:"uint8"}],name:"placeBet",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!1,inputs:[],name:"kill",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"secretSigner",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"jackpotSize",outputs:[{name:"",type:"uint128"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"croupier",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_betFee",type:"uint256"}],name:"setBetFee",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"reveal",type:"uint256"},{name:"canonicalBlockNumber",type:"uint40"}],name:"settleBetUncleMerkleProof",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"betFee",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"owner",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"maxProfit",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"beneficiary",type:"address"},{name:"withdrawAmount",type:"uint256"}],name:"withdrawFunds",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"reveal",type:"uint256"},{name:"blockHash",type:"bytes32"}],name:"settleBet",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"acceptNextOwner",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_nextOwner",type:"address"}],name:"approveNextOwner",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"increaseAmount",type:"uint256"}],name:"increaseJackpot",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"newSecretSigner",type:"address"}],name:"setSecretSigner",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"lockedInBets",outputs:[{name:"",type:"uint128"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"commit",type:"uint256"}],name:"refundBet",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"newCroupier",type:"address"}],name:"setCroupier",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_maxProfit",type:"uint256"}],name:"setMaxProfit",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"},{payable:!0,stateMutability:"payable",type:"fallback"},{anonymous:!1,inputs:[{indexed:!0,name:"beneficiary",type:"address"},{indexed:!1,name:"amount",type:"uint256"},{indexed:!1,name:"commit",type:"uint256"}],name:"FailedPayment",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"beneficiary",type:"address"},{indexed:!1,name:"amount",type:"uint256"},{indexed:!1,name:"commit",type:"uint256"}],name:"Payment",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"beneficiary",type:"address"},{indexed:!1,name:"amount",type:"uint256"},{indexed:!1,name:"commit",type:"uint256"}],name:"JackpotPayment",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"commit",type:"uint256"}],name:"Commit",type:"event"}],address:"",myBalance:"",blockNumber:"",commitLastBlock:"",setAddress:"",eth:"",fees:""}},created:function(){this.IsDapp()},methods:{IsDapp:function(){var t=this;this.$nextTick(function(){Object(s["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!window.ethereum){e.next=15;break}return window.web3=new c.a(ethereum),a=new web3.eth.Contract(t.contractAbi,t.contractAddress),t.getAddress(),e.prev=4,e.next=7,ethereum.enable();case 7:e.next=13;break;case 9:e.prev=9,e.t0=e["catch"](4),t.$Message.error(t.$t("home.denied")),console.log(e.t0);case 13:e.next=16;break;case 15:window.web3?(window.web3=new c.a(web3.currentProvider),a=new web3.eth.Contract(t.contractAbi,t.contractAddress),t.getAddress()):t.$Message.error(t.$t("home.notDapp"));case 16:case"end":return e.stop()}},e,null,[[4,9]])}))()})},isMainnet:function(){web3.eth.net.getNetworkType().then(function(t){console.log("当前网络：",t)})},getAddress:function(){var t=this;web3.eth.getAccounts().then(function(e){console.log("当前地址：",e[0]),t.address=e[0]})},getBalance:function(){var t=this;web3.eth.getBalance(this.address).then(function(e){t.myBalance=web3.utils.fromWei(e,"ether"),console.log("当前余额：",t.myBalance)})},getBlockNumber:function(){var t=this;web3.eth.getBlockNumber().then(function(e){console.log("blockNumber信息：",e),t.blockNumber=e.toString(),t.commitLastBlock=web3.utils.toHex(Number(t.blockNumber)+256),console.log("commitLastBlock信息：",t.commitLastBlock)})},secretSigner:function(){console.log("填写的地址",this.setAddress),this.setAddress?a.methods.setSecretSigner(this.setAddress).send({from:this.address,value:0}).then(function(t){console.log("修改SecretSigner结果：",t)}).catch(function(t){console.log(t)}):this.$Message.error("请输入合约地址")},setCroupier:function(){console.log("填写的地址",this.setAddress),this.setAddress?a.methods.setCroupier(this.setAddress).send({from:this.address,value:0}).then(function(t){console.log("修改Croupier结果：",t)}).catch(function(t){console.log(error)}):this.$Message.error("请输入合约地址")},setMaxProfit:function(){if(this.eth){var t=web3.utils.toWei(this.eth,"ether");console.log("转换后的金额",t),a.methods.setMaxProfit(t).send({from:this.address,value:0}).then(function(t){console.log("修改MaxProfit结果：",t)}).catch(function(t){console.log(t)})}else this.$Message.error("请输入ETH金额")},setFeeProfit:function(){this.fees.match(/^(?:[1-9]?\d|100)$/)?this.fees?a.methods.setBetFee(this.fees).send({from:this.address,value:0}).then(function(t){console.log("修改fee结果：",t)}).catch(function(t){console.log(t)}):this.$Message.error("请输入手续费率"):this.$Message.error("手续费率区间为0-100的数字")},getContractInfo:function(){a.methods.secretSigner().call({from:this.address}).then(function(t){console.log("secretSigner当前值：",t)}),a.methods.owner().call({from:this.address}).then(function(t){console.log("owner当前值：",t)}),a.methods.croupier().call({from:this.address}).then(function(t){console.log("croupier当前值：",t)}),a.methods.maxProfit().call({from:this.address}).then(function(t){console.log("maxProfit当前值：",t)}),a.methods.betFee().call({from:this.address}).then(function(t){console.log("fee当前值：",t)})}}}),l=u,p=(n("61a4"),n("2877")),d=Object(p["a"])(l,o,i,!1,null,"1a3d6e18",null);e["default"]=d.exports},b0c5:function(t,e,n){"use strict";var a=n("520a");n("5ca1")({target:"RegExp",proto:!0,forced:a!==/./.exec},{exec:a})}}]);